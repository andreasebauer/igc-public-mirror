<div data-sim-id="{{ preview.id }}" data-sim-label="{{ preview.label }}" data-sim-name="{{ preview.name }}">
  <div class="meta-head"><strong>{{ preview.label }}</strong> · {{ preview.name }}</div>
  <table class="kv">
  {% if preview._is_sweep %}
    <p class="muted" style="margin-bottom: 0.5rem;">
      Sweep over {{ preview._sweep_count }} runs
      {# Prefer generic sweep_param / start / end / step #}
      {% set p = preview._sweep_param %}
      {% set s = preview._sweep_start %}
      {% set e = preview._sweep_end %}
      {% set step = preview._sweep_step %}
      {% if p and s is not none and e is not none %}
        · {{ p }}: {{ s }} → {{ e }}
        {% if step is not none %}
          (Δ ≈ {{ step }})
        {% endif %}
      {% elif preview._sweep_d_psi_start is not none and preview._sweep_d_psi_end is not none %}
        {# Backward compat: legacy d_psi-only sweeps #}
        · d_ψ: {{ preview._sweep_d_psi_start }} → {{ preview._sweep_d_psi_end }}
        {% if preview._sweep_d_psi_step is not none %}
          (Δ ≈ {{ preview._sweep_d_psi_step }})
        {% endif %}
      {% endif %}
    </p>
  {% endif %}

  <table class="kv">    
  {% for k, v in preview.items() %}<tr><th>{{ k }}</th><td>{{ v }}</td></tr>{% endfor %}
  </table>
  {% if not preview %}
    <p class="muted">No simulation found in this folder.</p>
  {% endif %}
</div>

<style>
  .meta-head{font-size:1rem;margin:.25rem 0 1rem 0;color:#111;}
  table.kv{border-collapse:separate;border-spacing:0 6px;width:100%;}
  .kv th{text-align:left;color:#444;font-weight:600;padding-right:12px;white-space:nowrap;}
  .kv td{color:#111;}
</style>
